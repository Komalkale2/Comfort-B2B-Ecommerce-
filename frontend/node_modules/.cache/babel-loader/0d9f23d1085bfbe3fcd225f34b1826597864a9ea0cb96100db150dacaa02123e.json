{"ast":null,"code":"import _objectSpread from\"C:/Users/user/Downloads/comfort B2B e commerce/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();export function CartProvider(_ref){let{children}=_ref;const[cart,setCart]=useState(()=>JSON.parse(localStorage.getItem('komal_cart')||'[]'));useEffect(()=>localStorage.setItem('komal_cart',JSON.stringify(cart)),[cart]);const add=item=>{setCart(prev=>{const idx=prev.findIndex(p=>p._id===item._id);if(idx>-1){prev[idx].qty+=item.qty||1;return[...prev];}return[...prev,_objectSpread(_objectSpread({},item),{},{qty:item.qty||1})];});};const remove=id=>setCart(prev=>prev.filter(i=>i._id!==id));const clear=()=>setCart([]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,setCart,add,remove,clear},children:children});}","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","JSON","parse","localStorage","getItem","setItem","stringify","add","item","prev","idx","findIndex","p","_id","qty","_objectSpread","remove","id","filter","i","clear","Provider","value"],"sources":["C:/Users/user/Downloads/comfort B2B e commerce/frontend/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nexport const CartContext = createContext();\nexport function CartProvider({children}){\n  const [cart, setCart] = useState(()=> JSON.parse(localStorage.getItem('komal_cart')||'[]'));\n  useEffect(()=> localStorage.setItem('komal_cart', JSON.stringify(cart)), [cart]);\n  const add = (item)=>{\n    setCart(prev=>{ const idx = prev.findIndex(p=>p._id===item._id); if(idx>-1){ prev[idx].qty += item.qty||1; return [...prev]; } return [...prev, {...item, qty:item.qty||1}]; });\n  };\n  const remove = (id)=> setCart(prev => prev.filter(i=> i._id !== id));\n  const clear = ()=> setCart([]);\n  return <CartContext.Provider value={{cart, setCart, add, remove, clear}}>{children}</CartContext.Provider>\n}\n"],"mappings":"4IAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAClE,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAC1C,MAAO,SAAS,CAAAM,YAAYA,CAAAC,IAAA,CAAY,IAAX,CAACC,QAAQ,CAAC,CAAAD,IAAA,CACrC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,IAAKU,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC,CAC3FZ,SAAS,CAAC,IAAKW,YAAY,CAACE,OAAO,CAAC,YAAY,CAAEJ,IAAI,CAACK,SAAS,CAACP,IAAI,CAAC,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAChF,KAAM,CAAAQ,GAAG,CAAIC,IAAI,EAAG,CAClBR,OAAO,CAACS,IAAI,EAAE,CAAE,KAAM,CAAAC,GAAG,CAAGD,IAAI,CAACE,SAAS,CAACC,CAAC,EAAEA,CAAC,CAACC,GAAG,GAAGL,IAAI,CAACK,GAAG,CAAC,CAAE,GAAGH,GAAG,CAAC,CAAC,CAAC,CAAC,CAAED,IAAI,CAACC,GAAG,CAAC,CAACI,GAAG,EAAIN,IAAI,CAACM,GAAG,EAAE,CAAC,CAAE,MAAO,CAAC,GAAGL,IAAI,CAAC,CAAE,CAAE,MAAO,CAAC,GAAGA,IAAI,CAAAM,aAAA,CAAAA,aAAA,IAAMP,IAAI,MAAEM,GAAG,CAACN,IAAI,CAACM,GAAG,EAAE,CAAC,GAAE,CAAE,CAAC,CAAC,CACjL,CAAC,CACD,KAAM,CAAAE,MAAM,CAAIC,EAAE,EAAIjB,OAAO,CAACS,IAAI,EAAIA,IAAI,CAACS,MAAM,CAACC,CAAC,EAAGA,CAAC,CAACN,GAAG,GAAKI,EAAE,CAAC,CAAC,CACpE,KAAM,CAAAG,KAAK,CAAGA,CAAA,GAAKpB,OAAO,CAAC,EAAE,CAAC,CAC9B,mBAAON,IAAA,CAACC,WAAW,CAAC0B,QAAQ,EAACC,KAAK,CAAE,CAACvB,IAAI,CAAEC,OAAO,CAAEO,GAAG,CAAES,MAAM,CAAEI,KAAK,CAAE,CAAAtB,QAAA,CAAEA,QAAQ,CAAuB,CAAC,CAC5G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}