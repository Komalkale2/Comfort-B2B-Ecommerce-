{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Downloads\\\\komal-handmade-mern\\\\frontend\\\\src\\\\pages\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminDashboard() {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [customs, setCustoms] = useState([]);\n  const [msg, setMsg] = useState('');\n  useEffect(() => {\n    const token = localStorage.getItem('komal_admin_token');\n    if (!token) {\n      window.location.href = '/admin/login';\n      return;\n    }\n    axios.get('/api/admin/orders', {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(r => setOrders(r.data)).catch(() => {});\n    axios.get('/api/admin/custom-orders', {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(r => setCustoms(r.data)).catch(() => {});\n  }, []);\n  async function mark(id) {\n    const token = localStorage.getItem('komal_admin_token');\n    try {\n      await axios.post('/api/admin/custom-orders/' + id + '/status', {\n        status: 'completed'\n      }, {\n        headers: {\n          Authorization: 'Bearer ' + token\n        }\n      });\n      setMsg('Updated');\n    } catch (err) {\n      setMsg('Error');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      padding: 30\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 59\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 83\n    }, this), orders.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: o.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 7,\n          columnNumber: 178\n        }, this), \" - \\u20B9\", o.total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 173\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"small\",\n        children: new Date(o.createdAt).toLocaleString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 222\n      }, this)]\n    }, o._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 114\n    }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Custom Requests\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 299\n    }, this), customs.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: c.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 7,\n          columnNumber: 404\n        }, this), \" - \", c.description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 399\n      }, this), c.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: c.imageUrl,\n        style: {\n          width: 120,\n          marginTop: 8\n        },\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 468\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => mark(c._id),\n          children: \"Mark Completed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 7,\n          columnNumber: 559\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 532\n      }, this)]\n    }, c._1d, true, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 340\n    }, this)), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 656\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 11\n  }, this);\n}\n_s(AdminDashboard, \"UpjF9erhs+fujEchZl6ZFGns120=\");\n_c = AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","AdminDashboard","_s","orders","setOrders","customs","setCustoms","msg","setMsg","token","localStorage","getItem","window","location","href","get","headers","Authorization","then","r","data","catch","mark","id","post","status","err","className","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","map","o","marginBottom","name","total","Date","createdAt","toLocaleString","_id","c","description","imageUrl","src","width","marginTop","alt","onClick","_1d","_c","$RefreshReg$"],"sources":["C:/Users/user/Downloads/komal-handmade-mern/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nexport default function AdminDashboard(){\n  const [orders,setOrders]=useState([]); const [customs,setCustoms]=useState([]); const [msg,setMsg]=useState('');\n  useEffect(()=>{ const token = localStorage.getItem('komal_admin_token'); if(!token){ window.location.href='/admin/login'; return; } axios.get('/api/admin/orders', { headers:{ Authorization: 'Bearer '+token } }).then(r=> setOrders(r.data)).catch(()=>{}); axios.get('/api/admin/custom-orders', { headers:{ Authorization: 'Bearer '+token } }).then(r=> setCustoms(r.data)).catch(()=>{}); },[]);\n  async function mark(id){ const token = localStorage.getItem('komal_admin_token'); try{ await axios.post('/api/admin/custom-orders/'+id+'/status', { status:'completed' }, { headers:{ Authorization:'Bearer '+token } }); setMsg('Updated'); }catch(err){ setMsg('Error'); } }\n  return (<div className='container' style={{padding:30}}><h2>Admin Dashboard</h2><h3>Orders</h3>{orders.map(o=> <div key={o._id} className='card' style={{marginBottom:8}}><div><strong>{o.name}</strong> - â‚¹{o.total}</div><div className='small'>{new Date(o.createdAt).toLocaleString()}</div></div>)}<h3>Custom Requests</h3>{customs.map(c=> <div key={c._1d} className='card' style={{marginBottom:8}}><div><strong>{c.name}</strong> - {c.description}</div>{c.imageUrl && <img src={c.imageUrl} style={{width:120, marginTop:8}} alt=''/>}<div style={{marginTop:8}}><button className='btn' onClick={()=> mark(c._id)}>Mark Completed</button></div></div>) }{msg && <div>{msg}</div>}</div>);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}